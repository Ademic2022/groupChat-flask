{% extends 'base.html' %}

{% block body %}
    <form action="" method="POST" class="buttons">
        <h2>Group Chat</h2>
        <h3>Hi <span>{{ current_user.username.capitalize() }}</span></h3>
        <div class="profile-setup">
            <label for="name">Profile Name</label>
            <input 
                type="text" id="profileName" 
                placeholder="Set a Profile Name" 
                name="profileName" 
                value="{{ current_user.username }}" readonly>
        </div>
        {% for room in rooms %}
        <div class="join">
                <input 
                    type="text" 
                    id="code_{{ room._id.room_id }}" 
                    placeholder="Room Code" 
                    name="code" 
                    title="Enter a Room Code to Join an Existing Room" 
                    value="{{room.room_name}}" readonly>
                <input type="text" name="room_id" value="{{room._id.room_id }}" hidden>
                <button class="join-btn " type="submit" name="joinRoom_{{ room._id.room_id }}" id="joinRoom" >Join Room</button>
            </div>
        {% endfor %}
        <button 
            type="submit" 
            name="createRoom" id="createRoom" 
            class="btn btn-primary btn-block btn-large">Create a Room
        </button>
        {% if error %}
            <ul>
                <li>{{error}}</li>
            </ul>
        {% endif %}
    </form>

{% endblock %}